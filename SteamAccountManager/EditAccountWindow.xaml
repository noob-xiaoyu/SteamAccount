<Window x:Class="SteamAccountManager.EditAccountWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="更改账号信息" 
        Height="480" Width="420"
        WindowStartupLocation="CenterOwner" 
        ResizeMode="NoResize"
        FontSize="13">
    <Grid Margin="15">

        <!-- ★ 关键修复：所有 <Style> 标签都必须放在这个 <Grid.Resources> 块内部 ★ -->
        <Grid.Resources>
            <!-- 定义统一的标签样式 -->
            <Style TargetType="Label">
                <Setter Property="VerticalAlignment" Value="Center"/>
                <Setter Property="Margin" Value="0,0,10,0"/>
            </Style>
            <!-- 定义统一的输入框样式 -->
            <Style TargetType="TextBox">
                <Setter Property="Margin" Value="0,4"/>
                <Setter Property="Padding" Value="3"/>
                <Setter Property="VerticalContentAlignment" Value="Center"/>
            </Style>
        </Grid.Resources>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- 昵称 -->
            <RowDefinition Height="Auto"/>
            <!-- 用户名 -->
            <RowDefinition Height="Auto"/>
            <!-- 密码 -->
            <RowDefinition Height="Auto"/>
            <!-- SteamID64 -->
            <RowDefinition Height="Auto"/>
            <!-- 邮箱 -->
            <RowDefinition Height="Auto"/>
            <!-- 邮箱密码 -->
            <RowDefinition Height="20"/>
            <!-- 分隔空间 -->
            <RowDefinition Height="Auto"/>
            <!-- Prime 状态 -->
            <RowDefinition Height="Auto"/>
            <!-- 封禁状态 -->
            <RowDefinition Height="Auto"/>
            <!-- 冷却日期 -->
            <RowDefinition Height="*"/>
            <!-- 弹性空间 -->
            <RowDefinition Height="Auto"/>
            <!-- 按钮 -->
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <!-- 标签列 -->
            <ColumnDefinition Width="*"/>
            <!-- 输入控件列 -->
        </Grid.ColumnDefinitions>

        <!-- 账号基础信息 -->
        <Label Grid.Row="0" Grid.Column="0" Content="昵称:"/>
        <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding Nickname, UpdateSourceTrigger=PropertyChanged}"/>

        <Label Grid.Row="1" Grid.Column="0" Content="用户名:"/>
        <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding Username, UpdateSourceTrigger=PropertyChanged}"/>

        <Label Grid.Row="2" Grid.Column="0" Content="密码:"/>
        <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding Password, UpdateSourceTrigger=PropertyChanged}"/>

        <Label Grid.Row="3" Grid.Column="0" Content="SteamID64:"/>
        <TextBox Grid.Row="3" Grid.Column="1" Text="{Binding SteamId64, UpdateSourceTrigger=PropertyChanged}"/>

        <!-- 邮箱信息 -->
        <Label Grid.Row="4" Grid.Column="0" Content="邮箱:"/>
        <TextBox Grid.Row="4" Grid.Column="1" Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}"/>

        <Label Grid.Row="5" Grid.Column="0" Content="邮箱密码:"/>
        <TextBox Grid.Row="5" Grid.Column="1" Text="{Binding EmailPassword, UpdateSourceTrigger=PropertyChanged}"/>

        <!-- 账号状态信息 -->
        <Label Grid.Row="7" Grid.Column="0" Content="二级状态:"/>
        <CheckBox Grid.Row="7" Grid.Column="1" Content="是 Prime 账号" IsChecked="{Binding IsPrime}" VerticalAlignment="Center"/>

        <Label Grid.Row="8" Grid.Column="0" Content="封禁状态:"/>
        <ComboBox x:Name="BanStatusComboBox" Grid.Row="8" Grid.Column="1" Margin="0,4"
                  SelectionChanged="BanStatusComboBox_SelectionChanged"/>

        <StackPanel x:Name="CooldownPanel" Grid.Row="9" Grid.Column="1" Orientation="Horizontal" Visibility="Collapsed" Margin="0,4">
            <Label Content="冷却至:" Padding="0" Margin="0,0,5,0"/>
            <DatePicker x:Name="CooldownDatePicker"/>
        </StackPanel>

        <!-- 底部操作按钮 -->
        <StackPanel Grid.Row="11" Grid.Column="0" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="保存" Width="80" IsDefault="True" Click="SaveButton_Click" Margin="0,0,10,0"/>
            <Button Content="取消" Width="80" IsCancel="True"/>
        </StackPanel>
    </Grid>
</Window>